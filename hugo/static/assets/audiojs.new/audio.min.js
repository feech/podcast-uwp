(function(f,i,g){var l=function(){for(var a=/audio(.min)?.js.*/,b=document.getElementsByTagName("script"),c=0,d=b.length;c<d;c++){var e=b[c].getAttribute("src");if(a.test(e))return e.replace(a,"")}}();g[f]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+f+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+
f+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,initialVolume:0.5,imageLocation:l+"player-graphics.gif",swfLocation:l+"audiojs.swf",useFlash:function(){var a=document.createElement("audio");return!(a.canPlayType&&a.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return!0;if(navigator.mimeTypes&&navigator.mimeTypes.length){var a=
navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin}try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(b){}return!1}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="volume">             <div class="level"></div>           </div>           <div class="error-message"></div>',
playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error",volumeClass:"volume",levelClass:"level"},css:'        .audiojs audio{position:absolute;left:-1px}         .audiojs{width:400px;height:22px;background:none;border:1px solid LightGrey;           -webkit-border-radius:4px;           -moz-border-radius:4px;           -o-border-radius:4px;           border-radius:4px; overflow:hidden;font-family:monospace;font-size:12px;color:#8D8D8D;           -webkit-box-shadow:none;           -moz-box-shadow:none;           -o-box-shadow:none;           box-shadow:none; padding:1px 0px;margin:5px 0px}         .audiojs .play-pause{width:22px;height:22px;padding:0;margin:0px;float:left;overflow:hidden;border-right:1px solid #CECECE}         .audiojs p{display:none;width:22px;height:22px;margin:0px;cursor:pointer}         .audiojs .play{display:block}         .audiojs .scrubber{position:relative;float:left;width:225px;background:#CECECE;height:12px;margin:5px 5px;border-left:0px;border-bottom:0px solid #F9F9F9;border-top:0px solid #AEAEAE;overflow:hidden}         .audiojs .progress{position:absolute;top:0px;left:0px;height:12px;width:0px;background:#338ce4;z-index:1;           background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0, #509dea), color-stop(1, #1c72dd));           background-image:-moz-linear-gradient(center top, #509dea 0%, #1c72dd 100%)}         .audiojs .loaded{position:absolute;top:0px;left:0px;height:12px;width:0px;background:#BABABA}         .audiojs .time{float:left;text-align:center;width:91px;height:22px;line-height:22px;margin:0px 0px 0px 0px;padding:0px 5px;border-left:1px solid #CECECE;border-right:1px solid #CECECE}         .audiojs .time em{padding:0px 2px 0px 0px;color:#526f9a;font-style:normal;text-shadow:none}         .audiojs .time strong{padding:0px 0px 0px 2px;color:#8D8D8D;font-weight:normal;text-shadow:none}         .audiojs .volume {position:relative;float:left;width:28px;background:url("$1") -10px -143px no-repeat;height:12px;overflow:hidden;margin:5px;}         .audiojs .level {position:absolute;top:0;left:0;height:12px;width:100%;background:url("$1") -10px -123px no-repeat;}         .audiojs .error-message{float:left;display:none;margin:0px 10px;height:21px;width:375px;overflow:hidden;line-height:21px;white-space:nowrap;color:#8D8D8D;           text-overflow:ellipsis;           -o-text-overflow:ellipsis;           -icab-text-overflow:ellipsis;           -khtml-text-overflow:ellipsis;           -moz-text-overflow:ellipsis;           -webkit-text-overflow:ellipsis}         .audiojs .error-message a{color:#338ce4;text-decoration:none;white-space:wrap}                 .audiojs .play{background:url("$1") -3px -3px no-repeat}         .audiojs .loading{background:url("$1") -3px -33px no-repeat}         .audiojs .error{background:url("$1") -3px -63px no-repeat}         .audiojs .pause{background:url("$1") -3px -93px no-repeat}                 .audiojs .pause:hover,.audiojs .pause:focus{background:url("$1") -33px -93px no-repeat}         .audiojs .play:hover,.audiojs .play:focus{background:url("$1") -33px -3px no-repeat}                 .playing .play,.playing .loading,.playing .error{display:none}         .playing .pause{display:block}                 .loading .play,.loading .pause,.loading .error{display:none}         .loading .loading{display:block}                 .error .time,.error .play,.error .pause,.error .scrubber,.error .loading,.error .volume{display:none}         .error .error{display:block}         .error .play-pause p{cursor:auto}         .error .error-message{display:block}',
trackEnded:function(){},flashError:function(){var a=this.settings.createPlayer,b=h(a.errorMessageClass,this.wrapper),c='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';this.mp3&&(c+=' <a href="'+this.mp3+'">Download audio file</a>.');g[f].helpers.removeClass(this.wrapper,a.loadingClass);g[f].helpers.addClass(this.wrapper,a.errorClass);b.innerHTML=c},loadError:function(){var a=this.settings.createPlayer,b=h(a.errorMessageClass,this.wrapper);g[f].helpers.removeClass(this.wrapper,
a.loadingClass);g[f].helpers.addClass(this.wrapper,a.errorClass);b.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){g[f].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var a=this.settings.createPlayer,b=h(a.durationClass,this.wrapper),c=Math.floor(this.duration/60),d=Math.floor(this.duration%60);g[f].helpers.removeClass(this.wrapper,a.loadingClass);b.innerHTML=(10>c?"0":"")+c+":"+(10>d?"0":"")+d},loadProgress:function(a){var b=this.settings.createPlayer,
c=h(b.scrubberClass,this.wrapper);h(b.loaderClass,this.wrapper).style.width=c.offsetWidth*a+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){g[f].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){g[f].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(a){var b=this.settings.createPlayer,c=h(b.scrubberClass,this.wrapper);h(b.progressClass,this.wrapper).style.width=
c.offsetWidth*a+"px";b=h(b.playedClass,this.wrapper);c=this.duration*a;a=Math.floor(c/60);c=Math.floor(c%60);b.innerHTML=(10>a?"0":"")+a+":"+(10>c?"0":"")+c},volume:function(a){var b=this.settings.createPlayer,c=h(b.volumeClass,this.wrapper);h(b.levelClass,this.wrapper).style.width=c.offsetWidth*a+"px"}},create:function(a,b){b=b||{};return a.length?this.createAll(b,a):this.newInstance(a,b)},createAll:function(a,b){for(var c=b||document.getElementsByTagName("audio"),d=[],a=a||{},e=0,g=c.length;e<g;e++)d.push(this.newInstance(c[e],
a));return d},newInstance:function(a,b){var c=this.helpers.clone(this.settings),d="audiojs"+this.instanceCount,e="audiojs_wrapper"+this.instanceCount;this.instanceCount++;null!=a.getAttribute("autoplay")&&(c.autoplay=!0);null!=a.getAttribute("loop")&&(c.loop=!0);"none"==a.getAttribute("preload")&&(c.preload=!1);b&&this.helpers.merge(c,b);c.createPlayer.markup?a=this.createPlayer(a,c.createPlayer,e):a.parentNode.setAttribute("id",e);e=new g[i](a,c);c.css&&this.helpers.injectCss(e,c.css);c.useFlash&&
c.hasFlash?(this.injectFlash(e,d),this.attachFlashEvents(e.wrapper,e)):c.useFlash&&!c.hasFlash&&this.settings.flashError.apply(e);(!c.useFlash||c.useFlash&&c.hasFlash)&&this.attachEvents(e.wrapper,e);e.setVolume.call(e,c.initialVolume);return this.instances[d]=e},createPlayer:function(a,b,c){var d=document.createElement("div"),e=a.cloneNode(!0);d.setAttribute("class","audiojs");d.setAttribute("className","audiojs");d.setAttribute("id",c);e.outerHTML&&!document.createElement("audio").canPlayType?(e=
this.helpers.cloneHtml5Node(a),d.innerHTML=b.markup,d.appendChild(e),a.outerHTML=d.outerHTML,d=document.getElementById(c)):(d.appendChild(e),d.innerHTML+=b.markup,a.parentNode.replaceChild(d,a));return d.getElementsByTagName("audio")[0]},attachEvents:function(a,b){if(b.settings.createPlayer){var c=b.settings.createPlayer,d=h(c.playPauseClass,a),e=h(c.scrubberClass,a),m=h(c.volumeClass,a),n=function(b){var a=0;if(b.offsetParent){do a+=b.offsetLeft;while(b=b.offsetParent)}return a};g[f].events.addListener(d,
"click",function(){b.playPause.apply(b)});g[f].events.addListener(e,"click",function(a){a=a.clientX-n(this);b.skipTo(a/e.offsetWidth)});g[f].events.addListener(m,"click",function(a){a=a.clientX-n(this);b.setVolume(a/m.offsetWidth)});b.settings.useFlash||(g[f].events.trackLoadProgress(b),g[f].events.addListener(b.element,"timeupdate",function(){b.updatePlayhead.apply(b)}),g[f].events.addListener(b.element,"ended",function(){b.trackEnded.apply(b)}),g[f].events.addListener(b.source,"error",function(){clearInterval(b.readyTimer);
clearInterval(b.loadTimer);b.settings.loadError.apply(b)}))}},attachFlashEvents:function(a,b){b.swfReady=!1;b.load=function(a){b.mp3=a;b.swfReady&&b.element.load(a)};b.loadProgress=function(a,d){b.loadedPercent=a;b.duration=d;b.settings.loadStarted.apply(b);b.settings.loadProgress.apply(b,[a])};b.skipTo=function(a){a>b.loadedPercent||(b.updatePlayhead.call(b,[a]),b.element.skipTo(a))};b.updatePlayhead=function(a){b.settings.updatePlayhead.apply(b,[a])};b.play=function(){b.settings.preload||(b.settings.preload=
!0,b.element.init(b.mp3));b.playing=!0;b.element.pplay();b.settings.play.apply(b)};b.pause=function(){b.playing=!1;b.element.ppause();b.settings.pause.apply(b)};b.setVolume=function(a){b.element.setVolume(a);b.settings.volume.call(b,[a])};b.loadStarted=function(){b.swfReady=!0;b.settings.preload&&b.element.init(b.mp3);b.settings.autoplay&&b.play.apply(b)}},injectFlash:function(a,b){var c=this.flashSource.replace(/\$1/g,b),c=c.replace(/\$2/g,a.settings.swfLocation),c=c.replace(/\$3/g,+new Date+Math.random()),
d=a.wrapper.innerHTML,e=document.createElement("div");e.innerHTML=c+d;a.wrapper.innerHTML=e.innerHTML;a.element=this.helpers.getSwf(b)},helpers:{merge:function(a,b){for(attr in b)if(a.hasOwnProperty(attr)||b.hasOwnProperty(attr))a[attr]=b[attr]},clone:function(a){if(null==a||"object"!==typeof a)return a;var b=new a.constructor,c;for(c in a)b[c]=arguments.callee(a[c]);return b},addClass:function(a,b){RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)},removeClass:function(a,b){a.className=
a.className.replace(RegExp("(\\s|^)"+b+"(\\s|$)")," ")},injectCss:function(a,b){for(var c="",d=document.getElementsByTagName("style"),e=b.replace(/\$1/g,a.settings.imageLocation),g=0,f=d.length;g<f;g++){var h=d[g].getAttribute("title");if(h&&~h.indexOf("audiojs")){f=d[g];if(f.innerHTML===e)return;c=f.innerHTML;break}}d=document.getElementsByTagName("head")[0];g=d.firstChild;f=document.createElement("style");d&&(f.setAttribute("type","text/css"),f.setAttribute("title","audiojs"),f.styleSheet?f.styleSheet.cssText=
c+e:f.appendChild(document.createTextNode(c+e)),g?d.insertBefore(f,g):d.appendChild(styleElement))},cloneHtml5Node:function(a){var b=document.createDocumentFragment(),c=b.createElement?b:document;c.createElement("audio");c=c.createElement("div");b.appendChild(c);c.innerHTML=a.outerHTML;return c.firstChild},getSwf:function(a){a=document[a]||window[a];return 1<a.length?a[a.length-1]:a}},events:{memoryLeaking:!1,listeners:[],addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&
(this.listeners.push(a),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var a=0,b=this.listeners.length;a<b;a++)g[f].events.purge(this.listeners[a])}),this.memoryLeaking=!0),a.attachEvent("on"+b,function(){c.call(a,window.event)}))},trackLoadProgress:function(a){if(a.settings.preload){var b,c,d=/(ipod|iphone|ipad)/i.test(navigator.userAgent);b=setInterval(function(){-1<a.element.readyState&&(d||a.init.apply(a));1<a.element.readyState&&(a.settings.autoplay&&a.play.apply(a),
clearInterval(b),c=setInterval(function(){a.loadProgress.apply(a);1<=a.loadedPercent&&clearInterval(c)}))},10);a.readyTimer=b;a.loadTimer=c}},purge:function(a){var b=a.attributes,c;if(b)for(c=0;c<b.length;c+=1)"function"===typeof a[b[c].name]&&(a[b[c].name]=null);if(b=a.childNodes)for(c=0;c<b.length;c+=1)purge(a.childNodes[c])},ready:function(){return function(a){var b=window,c=!1,d=!0,e=b.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":
"detachEvent",k=e.addEventListener?"":"on",j=function(d){if(!("readystatechange"==d.type&&"complete"!=e.readyState)&&(("load"==d.type?b:e)[h](k+d.type,j,!1),!c&&(c=!0)))a.call(b,d.type||d)},i=function(){try{f.doScroll("left")}catch(a){setTimeout(i,50);return}j("poll")};if("complete"==e.readyState)a.call(b,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!b.frameElement}catch(l){}d&&i()}e[g](k+"DOMContentLoaded",j,!1);e[g](k+"readystatechange",j,!1);b[g](k+"load",j,!1)}}}()}};g[i]=function(a,
b){this.element=a;this.wrapper=a.parentNode;this.source=a.getElementsByTagName("source")[0]||a;var c=a.getElementsByTagName("source")[0];this.mp3=a.getAttribute("src")||(c?c.getAttribute("src"):null);this.settings=b;this.loadStartedCalled=!1;this.loadedPercent=0;this.duration=1;this.playing=!1};g[i].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,[this.element.currentTime/this.duration])},skipTo:function(a){a>this.loadedPercent||(this.element.currentTime=this.duration*
a,this.updatePlayhead())},load:function(a){this.loadStartedCalled=!1;this.source.setAttribute("src",a);this.element.load();this.mp3=a;g[f].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){if(!this.element.duration)return!1;this.duration=this.element.duration;this.updatePlayhead();this.settings.loadStarted.apply(this)},loadProgress:function(){null!=this.element.buffered&&this.element.buffered.length&&
(this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted()),this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent]))},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&0==this.element.readyState&&this.init.apply(this);this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),g[f].events.trackLoadProgress(this));
this.playing=!0;this.element.play();this.settings.play.apply(this)},pause:function(){this.playing=!1;this.element.pause();this.settings.pause.apply(this)},setVolume:function(a){this.element.volume=a;this.settings.volume.apply(this,[a])},trackEnded:function(){this.skipTo.apply(this,[0]);this.settings.loop||this.pause.apply(this);this.settings.trackEnded.apply(this)}};var h=function(a,b){var c=[],b=b||document;if(b.getElementsByClassName)c=b.getElementsByClassName(a);else{var d,e,f=b.getElementsByTagName("*"),
g=RegExp("(^|\\s)"+a+"(\\s|$)");d=0;for(e=f.length;d<e;d++)g.test(f[d].className)&&c.push(f[d])}return 1<c.length?c:c[0]}})("audiojs","audiojsInstance",this);
